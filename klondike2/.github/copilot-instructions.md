# copilot-instructions
# Instructions for GitHub Copilot
# Format: Markdown
# Use headings, lists, and code blocks to organize the information

## Game: Cat Te
- **Khmer Primary Goal**: Win the last trick.
- Cat Te is vietnamese for six cards and often referred to as "Six Cards". Cat Te is a trick taking card game popular in Southeast Asia. Unlike other trick games, in which the objective is either to collect tricks, avoid tricks, or fulfill a contract; the object of Cat Te is to win the last trick in a given round. The game is similar to Tien Gow, but played with cards instead of dominoes.

### Players
- 2 to 6 players

### Regions
- Khmer
- Laos
- Vietnamese

### Setup
- Player picks which region to set the game rules
- Each player is dealt 6 cards from a standard 52-card deck
- Players sit around a poker-style table in fixed positions
- The rest of the deck is not used during gameplay
- There are never more than six tricks played per game

### Objective
- Can be different depending on which region the player chooses to play in
- **Khmer Primary Goal**: Win the last trick, other tricks don't matter
- **Laos Primary Goal**: Win one or more of the first four tricks to advance to the last two tricks. After the fourth trick, players who have won no tricks are eliminated, so it is not possible to win the sixth trick without winning one of the first four tricks. 
- **Vietnamese Primary Goal**: Same as Laos


### Card Rules & Hierarchy
- Standard playing card hierarchy rank: Ace (high), King, Queen, Jack, 10, 9, 8, 7, 6, 5, 4, 3, 2
- A card can only beat another card if it's of the same suit and higher rank
- Suits have no inherent ranking (hearts = diamonds = clubs = spades)

### Suit-Following Rules
- **Must follow suit**: If you have cards of the lead suit, you MUST play one (unless you choose to fold)
- **Exception 1**: If you have no cards of the lead suit, you can play any card only if you are the lead of the trick or you can fold
- **Exception 2**: In the final (6th) trick, any card can be played regardless of suit
- **Leading**: The first player of each trick can play any card of any suit
- **Strategic Folding**: Players may choose to fold any card face-down as a strategic decision, even if they have valid cards to play

### Gameplay Phases

#### All Six Tricks (Complete Game)
1. **Leading**: The player to the dealer's left leads the first trick, then winner of each trick leads the next
2. **Following**: Other players follow in clockwise order
3. **Turn Options**: On each turn, players may:
   - **Play a valid card**: Follow suit with any card of the led suit (if available)
   - **Play any card**: If they don't have the led suit (except final trick where any suit is allowed)
   - **Fold any card**: Play any card face-down as a strategic choice, regardless of what cards they hold
4. **Folding Rules**: 
   - Players can fold any card at any time as a strategic decision
   - Folded cards are played face-down and cannot win the trick
   - Common reasons to fold: don't have the led suit, want to save a good card, or tactical play
5. **Trick Resolution**: Highest card of the led suit wins the trick (folded cards cannot win)
6. **Game Progression**: Continue for all 6 tricks until all cards are played

#### Special Final Trick Rules
1. **Sixth Trick**: No suit-following required - any card can be played face-up
2. **Winner**: Player who wins the 6th trick wins the entire game

### Instant Winning Hands (Game Ends Immediately)
- **Four-of-a-Kind**: Any four cards of the same rank
- **Flush**: All six cards of the same suit  
- **Low Hand**: All six cards valued 5 or lower (A, 2, 3, 4, 5)

### Visual Elements
- **Played Cards**: Remain visible on the table throughout the entire game
- **Card Layout**: Played cards are arranged horizontally like the original hand
- **Winner Highlighting**: Trick winners get golden borders temporarily
- **Suit Indicators**: Required suit is displayed during play
- **Valid Card Highlighting**: Invalid cards are blocked, valid cards highlighted in blue

### Game Flow
1. **Deal**: 6 cards to each player
2. **Check**: Instant win conditions (optional special hands)
3. **Play**: 6 tricks total, each player plays one card per trick
4. **Trick Sequence**: Winner of each trick leads the next trick
5. **Strategic Folding**: Players can fold any card face-down at any time
6. **Victory**: Winner of the 6th (final) trick wins the entire game

### Key Strategic Elements
- **Suit Management**: Deciding when to follow suit vs. when to fold strategically
- **Card Preservation**: Saving high cards for crucial moments
- **Bluffing**: Folding good cards to mislead opponents
- **Timing**: Knowing when to play strong cards vs. when to fold
- **Final Trick Focus**: Building towards winning the decisive 6th trick

### Play overview
Cat Te is played in rounds, each of which includes an initial bet, the deal, the play of tricks, and the settlement of any obligations incurred during play. At the conclusion of each round, all players contribute an agreed-upon sum to form the pot.

For all but the first round of play, the winner of the prior round has the privilege of dealing. For the initial round; deal can be chosen by lot, or any other means agreed upon by the players. The dealer deals six cards to each player, in counter-clockwise order. The remaining cards are then removed from play.

### Trick-play
A round of Cat Te consists of either 4 or 6 tricks. The dealer has the lead on the initial trick; the winner of each trick leads the subsequent trick. Play is standard no-trump trick-taking. Players are not required to follow suit; nor are they required to attempt to win a trick if they are able. There are no penalty cards in the game. At any time, a player may slough (play a card face-down); when this is done the player is ineligible to win the trick. After four tricks have been played, one of two situations will have occurred:

One player will have won all 4 tricks: If this occurs, that player is the winner of the round. He/she collects the pot, and becomes the dealer for the next round. If 4 or more players play (depending on house or regional rules), the player is additionally entitled to double his winnings—the other players must immediately pay the winner an additional amount equal to the initial bet.
Two or more players will have won at least one trick: (There is no advantage to winning more than one trick in the first four rounds). All players who have failed to win any tricks are eliminated from further play at this point; those players who have won at least one trick may continue.
At this point, the 5th trick is played. The winner of the 4th trick leads one of his two remaining cards. The other remaining players play a card face down; after all cards are played, they are overturned. The winner of the 5th trick leads the last trick; all remaining cards are then shown. The winner of the 6th trick wins the round, and the pot.

### Sped-up play
Players may, at any time, fold their hand by throwing all cards face-down onto the table. That player is then eliminated from the remainder of the round. He/She is not excused, however, from paying double should the rules require it. There is no tactical advantage to folding.

Players with exceptionally strong hands may claim a win by displaying their remaining cards. If the hand is indeed unbeatable, they win the round, as if the hand had been played out normally. If their hand is not unbeatable, however, they are penalized. Again, there is no tactical advantage in claiming a win in this manner.

### Scoring
There is no scoring as such in Cat Te, only the accumulation of winnings. At the end of each round, the winner collects the pot, and any bonuses due to him from the other players.

### Automatic winning hands
In some games of Cat Te, the following hands are automatic wins—if a player is dealt one of these hands, he may display it immediately and the round ends. The player may win the pot, or double the pot, depending on the rules employed:

A hand containing four of a kind, of any rank, regardless of the two other cards. Note that a hand containing four aces is an automatic win, regardless of whether this optional rule is employed.
A hand containing a flush, consisting of six cards of the same suit. Note that a poker flush, five of the same suit is not sufficient.

It is a common strategy for a player whose hand is rich in a particular suit, and who believes, to keep playing the suit until it exhausted, in an attempt to win the fourth trick while playing low cards. Winning the fourth trick is advantageous. Conversely, if one suspects an opponent is doing this, to hold onto a high card in that suit until the fourth trick is played, in an attempt to win the pivotal fourth trick.

### Side pot
One other common variation is the maintenance of a side pot. In addition to the normal bet, at the start of each round, a set figure is bet into a side pot. At the completion of the deal, one additional card from the deck is upturned. If any player has the next card of the same suit, he is entitled to claim the side pot. He may do so at any time during the round, until the cards are collected and shuffled for the next round. If no player has the winning card, or a player who does forgets to claim the side pot, the pot accumulates until won.

The side pot is completely separate from the main game play; a player need not win the main round, or even win a single trick, to claim the side pot.

### Digital Implementation Notes
- Uses Flame engine for Flutter
- Poker table layout with 6 fixed seat positions
- Real-time validation of suit-following rules
- Strategic folding system allowing any card to be folded at any time
- Visual feedback for legal/illegal moves and folding options
- Debug logging for rule enforcement and strategic decisions
- Persistent played card display showing all face-up and face-down cards
- Player turn management with clear action choices (Play or Fold)
- Winner determination based on highest card of led suit (excluding folded cards)

---

# Add additional games below using the same format.
# klondike2